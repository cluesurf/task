import { save } from '@termsurf/form'

export const ENVIRONMENT = ['cli', 'server', 'browser'] as const

export const DEFAULT_REMOTE_TASK_PATH = `https://base.term.surf/v2`

export type FormConfig =
  | 'archive_format'
  | 'assembly_syntax'
  | 'backend_compilation_output'
  | 'c_input_format'
  | 'calibre_input_format'
  | 'calibre_input_profile'
  | 'calibre_output_format'
  | 'calibre_output_profile'
  | 'call_handle'
  | 'cipher'
  | 'clang_format'
  | 'cli_log_format'
  | 'command_key'
  | 'command_name'
  | 'conversion_unit_acre'
  | 'conversion_unit_ampere'
  | 'conversion_unit_arcminute'
  | 'conversion_unit_arcsecond'
  | 'conversion_unit_bar'
  | 'conversion_unit_bit'
  | 'conversion_unit_byte'
  | 'conversion_unit_celsius'
  | 'conversion_unit_centilitre'
  | 'conversion_unit_centilitre_per_second'
  | 'conversion_unit_centimeter'
  | 'conversion_unit_cubic_centimeter'
  | 'conversion_unit_cubic_centimeter_per_second'
  | 'conversion_unit_cubic_foot'
  | 'conversion_unit_cubic_foot_per_hour'
  | 'conversion_unit_cubic_foot_per_minute'
  | 'conversion_unit_cubic_foot_per_second'
  | 'conversion_unit_cubic_inch'
  | 'conversion_unit_cubic_inch_per_hour'
  | 'conversion_unit_cubic_inch_per_minute'
  | 'conversion_unit_cubic_inch_per_second'
  | 'conversion_unit_cubic_kilometer'
  | 'conversion_unit_cubic_kilometer_per_second'
  | 'conversion_unit_cubic_meter'
  | 'conversion_unit_cubic_meter_per_hour'
  | 'conversion_unit_cubic_meter_per_minute'
  | 'conversion_unit_cubic_meter_per_second'
  | 'conversion_unit_cubic_millimeter'
  | 'conversion_unit_cubic_millimeter_per_second'
  | 'conversion_unit_cubic_yard'
  | 'conversion_unit_cubic_yard_per_hour'
  | 'conversion_unit_cubic_yard_per_minute'
  | 'conversion_unit_cubic_yard_per_second'
  | 'conversion_unit_cup'
  | 'conversion_unit_cup_per_second'
  | 'conversion_unit_day'
  | 'conversion_unit_decilitre'
  | 'conversion_unit_decilitre_per_second'
  | 'conversion_unit_degree'
  | 'conversion_unit_degree_per_second'
  | 'conversion_unit_dozen'
  | 'conversion_unit_each'
  | 'conversion_unit_fahrenheit'
  | 'conversion_unit_fluid_ounce'
  | 'conversion_unit_fluid_ounce_per_hour'
  | 'conversion_unit_fluid_ounce_per_minute'
  | 'conversion_unit_fluid_ounce_per_second'
  | 'conversion_unit_foot'
  | 'conversion_unit_foot_candle'
  | 'conversion_unit_foot_per_second'
  | 'conversion_unit_gallon'
  | 'conversion_unit_gallon_per_hour'
  | 'conversion_unit_gallon_per_minute'
  | 'conversion_unit_gallon_per_second'
  | 'conversion_unit_gigabit'
  | 'conversion_unit_gigabyte'
  | 'conversion_unit_gigahertz'
  | 'conversion_unit_gigavolt_ampere'
  | 'conversion_unit_gigavolt_ampere_reactive'
  | 'conversion_unit_gigavolt_ampere_reactive_hour'
  | 'conversion_unit_gigawatt'
  | 'conversion_unit_gigawatt_hour'
  | 'conversion_unit_glas'
  | 'conversion_unit_gradian'
  | 'conversion_unit_gram'
  | 'conversion_unit_hectare'
  | 'conversion_unit_hectopascal'
  | 'conversion_unit_hertz'
  | 'conversion_unit_hour'
  | 'conversion_unit_inch'
  | 'conversion_unit_joule'
  | 'conversion_unit_kaffekopp'
  | 'conversion_unit_kanna'
  | 'conversion_unit_kelvin'
  | 'conversion_unit_kiloampere'
  | 'conversion_unit_kilobit'
  | 'conversion_unit_kilobyte'
  | 'conversion_unit_kilogram'
  | 'conversion_unit_kilohertz'
  | 'conversion_unit_kilojoule'
  | 'conversion_unit_kilolitre'
  | 'conversion_unit_kilolitre_per_hour'
  | 'conversion_unit_kilolitre_per_minute'
  | 'conversion_unit_kilolitre_per_second'
  | 'conversion_unit_kilometer'
  | 'conversion_unit_kilometre_per_hour'
  | 'conversion_unit_kilopascal'
  | 'conversion_unit_kilopound_per_square_inch'
  | 'conversion_unit_kilovolt'
  | 'conversion_unit_kilovolt_ampere'
  | 'conversion_unit_kilovolt_ampere_reactive'
  | 'conversion_unit_kilovolt_ampere_reactive_hour'
  | 'conversion_unit_kilowatt'
  | 'conversion_unit_kilowatt_hour'
  | 'conversion_unit_knot'
  | 'conversion_unit_litre'
  | 'conversion_unit_litre_per_hour'
  | 'conversion_unit_litre_per_minute'
  | 'conversion_unit_litre_per_second'
  | 'conversion_unit_lux'
  | 'conversion_unit_matsked'
  | 'conversion_unit_megabit'
  | 'conversion_unit_megabyte'
  | 'conversion_unit_megahertz'
  | 'conversion_unit_megapascal'
  | 'conversion_unit_megavolt_ampere'
  | 'conversion_unit_megavolt_ampere_reactive'
  | 'conversion_unit_megavolt_ampere_reactive_hour'
  | 'conversion_unit_megawatt'
  | 'conversion_unit_megawatt_hour'
  | 'conversion_unit_meter'
  | 'conversion_unit_metre_per_second'
  | 'conversion_unit_metric_tonne'
  | 'conversion_unit_microgram'
  | 'conversion_unit_microsecond'
  | 'conversion_unit_mile'
  | 'conversion_unit_mile_per_hour'
  | 'conversion_unit_milliampere'
  | 'conversion_unit_milligram'
  | 'conversion_unit_millihertz'
  | 'conversion_unit_millilitre'
  | 'conversion_unit_millilitre_per_second'
  | 'conversion_unit_millimeter'
  | 'conversion_unit_millisecond'
  | 'conversion_unit_millivolt'
  | 'conversion_unit_millivolt_ampere'
  | 'conversion_unit_millivolt_ampere_reactive'
  | 'conversion_unit_millivolt_ampere_reactive_hour'
  | 'conversion_unit_milliwatt'
  | 'conversion_unit_milliwatt_hour'
  | 'conversion_unit_minute'
  | 'conversion_unit_minute_per_kilometre'
  | 'conversion_unit_minute_per_mile'
  | 'conversion_unit_month'
  | 'conversion_unit_nanosecond'
  | 'conversion_unit_ounce'
  | 'conversion_unit_part_per_billion'
  | 'conversion_unit_part_per_million'
  | 'conversion_unit_part_per_quadrillion'
  | 'conversion_unit_part_per_trillion'
  | 'conversion_unit_pascal'
  | 'conversion_unit_pint'
  | 'conversion_unit_pint_per_hour'
  | 'conversion_unit_pint_per_minute'
  | 'conversion_unit_pint_per_second'
  | 'conversion_unit_pound'
  | 'conversion_unit_pound_per_square_inch'
  | 'conversion_unit_quart'
  | 'conversion_unit_quart_per_second'
  | 'conversion_unit_radian'
  | 'conversion_unit_radian_per_second'
  | 'conversion_unit_rankine'
  | 'conversion_unit_rotation_per_minute'
  | 'conversion_unit_second'
  | 'conversion_unit_second_per_foot'
  | 'conversion_unit_second_per_metre'
  | 'conversion_unit_square_centimeter'
  | 'conversion_unit_square_foot'
  | 'conversion_unit_square_inch'
  | 'conversion_unit_square_kilometer'
  | 'conversion_unit_square_meter'
  | 'conversion_unit_square_mile'
  | 'conversion_unit_square_millimeter'
  | 'conversion_unit_square_yard'
  | 'conversion_unit_tablespoon'
  | 'conversion_unit_tablespoon_per_second'
  | 'conversion_unit_teaspoon'
  | 'conversion_unit_teaspoon_per_second'
  | 'conversion_unit_terabit'
  | 'conversion_unit_terabyte'
  | 'conversion_unit_terahertz'
  | 'conversion_unit_tesked'
  | 'conversion_unit_ton'
  | 'conversion_unit_torr'
  | 'conversion_unit_us_survey_foot'
  | 'conversion_unit_volt'
  | 'conversion_unit_volt_ampere'
  | 'conversion_unit_volt_ampere_reactive'
  | 'conversion_unit_volt_ampere_reactive_hour'
  | 'conversion_unit_watt'
  | 'conversion_unit_watt_hour'
  | 'conversion_unit_week'
  | 'conversion_unit_yard'
  | 'conversion_unit_year'
  | 'convert_latex_to_png_input_format'
  | 'convert_latex_to_png_output_format'
  | 'cpp_input_format'
  | 'enscript_input_format'
  | 'enscript_output_format'
  | 'ffmpeg_codec_audio'
  | 'ffmpeg_codec_subtitle'
  | 'ffmpeg_codec_video'
  | 'ffmpeg_decoder_audio'
  | 'ffmpeg_decoder_subtitle'
  | 'ffmpeg_decoder_video'
  | 'ffmpeg_encoder_audio'
  | 'ffmpeg_encoder_subtitle'
  | 'ffmpeg_encoder_video'
  | 'ffmpeg_format'
  | 'ffmpeg_strict_option'
  | 'file_reader_encoding'
  | 'flip'
  | 'font_format'
  | 'forge_message_digest'
  | 'format_code_format'
  | 'gifsicle_optimize_option'
  | 'image_magick_channel'
  | 'image_magick_color_space'
  | 'image_magick_compression'
  | 'image_magick_format'
  | 'image_magick_gravity'
  | 'image_magick_input_format'
  | 'image_magick_output_format'
  | 'inkscape_export_format'
  | 'inkscape_import_format'
  | 'libre_office_input_format'
  | 'libre_office_output_format'
  | 'llvm_architecture'
  | 'llvm_cpu'
  | 'llvm_feature'
  | 'llvm_optimization_level'
  | 'objdump_demangle_style'
  | 'objdump_hide_option'
  | 'objdump_show_option'
  | 'pandoc_input_format'
  | 'pandoc_output_format'
  | 'patool_format'
  | 'pdf_latex_input_format'
  | 'pdf_latex_output_format'
  | 'pleasant_adjective'
  | 'pleasant_noun'
  | 'prettier_arrow_parens_option'
  | 'prettier_end_of_line_option'
  | 'prettier_html_whitespace_sensitivity_option'
  | 'prettier_plugin'
  | 'prettier_prose_wrap_option'
  | 'prettier_typescript_trailing_comma_option'
  | 'prettier_xml_quote_attributes_option'
  | 'prettier_xml_whitespace_sensitivity_option'
  | 'puppeteer_input_format'
  | 'puppeteer_life_cycle_event'
  | 'puppeteer_markdown_input_format'
  | 'puppeteer_output_format'
  | 'puppeteer_txt_input_format'
  | 'qr_code_error_correction_level'
  | 'qr_code_format'
  | 'rust_compiler_target'
  | 'rust_input_format'
  | 'rust_output_format'
  | 'shared_gematria_language'
  | 'swift_input_format'
  | 'symbol_set'
  | 'task'
  | 'time_zone'
  | 'time_zone_abbreviation'
  | 'time_zone_location'
  | 'unarchiver_format'
  | 'unit'
  | 'wast_input_format'
  | 'wast_output_format'
  | 'word_set'
  | 'image_magick_color_space_content'
  | 'image_magick_compression_content'
  | 'llvm_architecture_content'
  | 'symbol_set_content'

export type Config =
  | 'remote'
  | 'code'
  | 'environment'
  | 'puppeteer_args'
  | 'puppeteer_debugging_port'
  | 'debug_puppeteer'

export type TaskConfig = FormConfig | Config

const CONFIG: Record<string, any> = {
  remote: DEFAULT_REMOTE_TASK_PATH,
  code: undefined,
  environment: 'cli',
  puppeteer_args: ['--no-sandbox', '--disable-setuid-sandbox'],
  puppeteer_debugging_port: '9222',
  debug_puppeteer: false,
}

export function configure(name: TaskConfig, value: any) {
  CONFIG[name] = value
  save(name, value)
}

export function getConfig(name: TaskConfig) {
  return CONFIG[name]
}
