import { save } from '@termsurf/form'

export const ENVIRONMENT = ['cli', 'server', 'browser'] as const

export const DEFAULT_REMOTE_TASK_PATH = `https://base.task.surf/v2`

export type FormConfig =
  | 'archive-format'
  | 'assembly-syntax'
  | 'backend-compilation-output'
  | 'c-input-format'
  | 'calibre-input-format'
  | 'calibre-input-profile'
  | 'calibre-output-format'
  | 'calibre-output-profile'
  | 'call-handle'
  | 'cipher'
  | 'clang-format'
  | 'cli-log-format'
  | 'command-key'
  | 'command-name'
  | 'conversion-unit-acre'
  | 'conversion-unit-ampere'
  | 'conversion-unit-arcminute'
  | 'conversion-unit-arcsecond'
  | 'conversion-unit-bar'
  | 'conversion-unit-bit'
  | 'conversion-unit-byte'
  | 'conversion-unit-celsius'
  | 'conversion-unit-centilitre'
  | 'conversion-unit-centilitre-per-second'
  | 'conversion-unit-centimeter'
  | 'conversion-unit-cubic-centimeter'
  | 'conversion-unit-cubic-centimeter-per-second'
  | 'conversion-unit-cubic-foot'
  | 'conversion-unit-cubic-foot-per-hour'
  | 'conversion-unit-cubic-foot-per-minute'
  | 'conversion-unit-cubic-foot-per-second'
  | 'conversion-unit-cubic-inch'
  | 'conversion-unit-cubic-inch-per-hour'
  | 'conversion-unit-cubic-inch-per-minute'
  | 'conversion-unit-cubic-inch-per-second'
  | 'conversion-unit-cubic-kilometer'
  | 'conversion-unit-cubic-kilometer-per-second'
  | 'conversion-unit-cubic-meter'
  | 'conversion-unit-cubic-meter-per-hour'
  | 'conversion-unit-cubic-meter-per-minute'
  | 'conversion-unit-cubic-meter-per-second'
  | 'conversion-unit-cubic-millimeter'
  | 'conversion-unit-cubic-millimeter-per-second'
  | 'conversion-unit-cubic-yard'
  | 'conversion-unit-cubic-yard-per-hour'
  | 'conversion-unit-cubic-yard-per-minute'
  | 'conversion-unit-cubic-yard-per-second'
  | 'conversion-unit-cup'
  | 'conversion-unit-cup-per-second'
  | 'conversion-unit-day'
  | 'conversion-unit-decilitre'
  | 'conversion-unit-decilitre-per-second'
  | 'conversion-unit-degree'
  | 'conversion-unit-degree-per-second'
  | 'conversion-unit-dozen'
  | 'conversion-unit-each'
  | 'conversion-unit-fahrenheit'
  | 'conversion-unit-fluid-ounce'
  | 'conversion-unit-fluid-ounce-per-hour'
  | 'conversion-unit-fluid-ounce-per-minute'
  | 'conversion-unit-fluid-ounce-per-second'
  | 'conversion-unit-foot'
  | 'conversion-unit-foot-candle'
  | 'conversion-unit-foot-per-second'
  | 'conversion-unit-gallon'
  | 'conversion-unit-gallon-per-hour'
  | 'conversion-unit-gallon-per-minute'
  | 'conversion-unit-gallon-per-second'
  | 'conversion-unit-gigabit'
  | 'conversion-unit-gigabyte'
  | 'conversion-unit-gigahertz'
  | 'conversion-unit-gigavolt-ampere'
  | 'conversion-unit-gigavolt-ampere-reactive'
  | 'conversion-unit-gigavolt-ampere-reactive-hour'
  | 'conversion-unit-gigawatt'
  | 'conversion-unit-gigawatt-hour'
  | 'conversion-unit-glas'
  | 'conversion-unit-gradian'
  | 'conversion-unit-gram'
  | 'conversion-unit-hectare'
  | 'conversion-unit-hectopascal'
  | 'conversion-unit-hertz'
  | 'conversion-unit-hour'
  | 'conversion-unit-inch'
  | 'conversion-unit-joule'
  | 'conversion-unit-kaffekopp'
  | 'conversion-unit-kanna'
  | 'conversion-unit-kelvin'
  | 'conversion-unit-kiloampere'
  | 'conversion-unit-kilobit'
  | 'conversion-unit-kilobyte'
  | 'conversion-unit-kilogram'
  | 'conversion-unit-kilohertz'
  | 'conversion-unit-kilojoule'
  | 'conversion-unit-kilolitre'
  | 'conversion-unit-kilolitre-per-hour'
  | 'conversion-unit-kilolitre-per-minute'
  | 'conversion-unit-kilolitre-per-second'
  | 'conversion-unit-kilometer'
  | 'conversion-unit-kilometre-per-hour'
  | 'conversion-unit-kilopascal'
  | 'conversion-unit-kilopound-per-square-inch'
  | 'conversion-unit-kilovolt'
  | 'conversion-unit-kilovolt-ampere'
  | 'conversion-unit-kilovolt-ampere-reactive'
  | 'conversion-unit-kilovolt-ampere-reactive-hour'
  | 'conversion-unit-kilowatt'
  | 'conversion-unit-kilowatt-hour'
  | 'conversion-unit-knot'
  | 'conversion-unit-litre'
  | 'conversion-unit-litre-per-hour'
  | 'conversion-unit-litre-per-minute'
  | 'conversion-unit-litre-per-second'
  | 'conversion-unit-lux'
  | 'conversion-unit-matsked'
  | 'conversion-unit-megabit'
  | 'conversion-unit-megabyte'
  | 'conversion-unit-megahertz'
  | 'conversion-unit-megapascal'
  | 'conversion-unit-megavolt-ampere'
  | 'conversion-unit-megavolt-ampere-reactive'
  | 'conversion-unit-megavolt-ampere-reactive-hour'
  | 'conversion-unit-megawatt'
  | 'conversion-unit-megawatt-hour'
  | 'conversion-unit-meter'
  | 'conversion-unit-metre-per-second'
  | 'conversion-unit-metric-tonne'
  | 'conversion-unit-microgram'
  | 'conversion-unit-microsecond'
  | 'conversion-unit-mile'
  | 'conversion-unit-mile-per-hour'
  | 'conversion-unit-milliampere'
  | 'conversion-unit-milligram'
  | 'conversion-unit-millihertz'
  | 'conversion-unit-millilitre'
  | 'conversion-unit-millilitre-per-second'
  | 'conversion-unit-millimeter'
  | 'conversion-unit-millisecond'
  | 'conversion-unit-millivolt'
  | 'conversion-unit-millivolt-ampere'
  | 'conversion-unit-millivolt-ampere-reactive'
  | 'conversion-unit-millivolt-ampere-reactive-hour'
  | 'conversion-unit-milliwatt'
  | 'conversion-unit-milliwatt-hour'
  | 'conversion-unit-minute'
  | 'conversion-unit-minute-per-kilometre'
  | 'conversion-unit-minute-per-mile'
  | 'conversion-unit-month'
  | 'conversion-unit-nanosecond'
  | 'conversion-unit-ounce'
  | 'conversion-unit-part-per-billion'
  | 'conversion-unit-part-per-million'
  | 'conversion-unit-part-per-quadrillion'
  | 'conversion-unit-part-per-trillion'
  | 'conversion-unit-pascal'
  | 'conversion-unit-pint'
  | 'conversion-unit-pint-per-hour'
  | 'conversion-unit-pint-per-minute'
  | 'conversion-unit-pint-per-second'
  | 'conversion-unit-pound'
  | 'conversion-unit-pound-per-square-inch'
  | 'conversion-unit-quart'
  | 'conversion-unit-quart-per-second'
  | 'conversion-unit-radian'
  | 'conversion-unit-radian-per-second'
  | 'conversion-unit-rankine'
  | 'conversion-unit-rotation-per-minute'
  | 'conversion-unit-second'
  | 'conversion-unit-second-per-foot'
  | 'conversion-unit-second-per-metre'
  | 'conversion-unit-square-centimeter'
  | 'conversion-unit-square-foot'
  | 'conversion-unit-square-inch'
  | 'conversion-unit-square-kilometer'
  | 'conversion-unit-square-meter'
  | 'conversion-unit-square-mile'
  | 'conversion-unit-square-millimeter'
  | 'conversion-unit-square-yard'
  | 'conversion-unit-tablespoon'
  | 'conversion-unit-tablespoon-per-second'
  | 'conversion-unit-teaspoon'
  | 'conversion-unit-teaspoon-per-second'
  | 'conversion-unit-terabit'
  | 'conversion-unit-terabyte'
  | 'conversion-unit-terahertz'
  | 'conversion-unit-tesked'
  | 'conversion-unit-ton'
  | 'conversion-unit-torr'
  | 'conversion-unit-us-survey-foot'
  | 'conversion-unit-volt'
  | 'conversion-unit-volt-ampere'
  | 'conversion-unit-volt-ampere-reactive'
  | 'conversion-unit-volt-ampere-reactive-hour'
  | 'conversion-unit-watt'
  | 'conversion-unit-watt-hour'
  | 'conversion-unit-week'
  | 'conversion-unit-yard'
  | 'conversion-unit-year'
  | 'convert-latex-to-png-input-format'
  | 'convert-latex-to-png-output-format'
  | 'cpp-input-format'
  | 'enscript-input-format'
  | 'enscript-output-format'
  | 'ffmpeg-codec-audio'
  | 'ffmpeg-codec-subtitle'
  | 'ffmpeg-codec-video'
  | 'ffmpeg-decoder-audio'
  | 'ffmpeg-decoder-subtitle'
  | 'ffmpeg-decoder-video'
  | 'ffmpeg-encoder-audio'
  | 'ffmpeg-encoder-subtitle'
  | 'ffmpeg-encoder-video'
  | 'ffmpeg-format'
  | 'ffmpeg-strict-option'
  | 'file-reader-encoding'
  | 'flip'
  | 'font-format'
  | 'forge-message-digest'
  | 'format-code-format'
  | 'gifsicle-optimize-option'
  | 'image-magick-channel'
  | 'image-magick-color-space'
  | 'image-magick-compression'
  | 'image-magick-format'
  | 'image-magick-gravity'
  | 'image-magick-input-format'
  | 'image-magick-output-format'
  | 'inkscape-export-format'
  | 'inkscape-import-format'
  | 'libre-office-input-format'
  | 'libre-office-output-format'
  | 'llvm-architecture'
  | 'llvm-cpu'
  | 'llvm-feature'
  | 'llvm-optimization-level'
  | 'objdump-demangle-style'
  | 'objdump-hide-option'
  | 'objdump-show-option'
  | 'pandoc-input-format'
  | 'pandoc-output-format'
  | 'patool-format'
  | 'pdf-latex-input-format'
  | 'pdf-latex-output-format'
  | 'pleasant-adjective'
  | 'pleasant-noun'
  | 'prettier-arrow-parens-option'
  | 'prettier-end-of-line-option'
  | 'prettier-html-whitespace-sensitivity-option'
  | 'prettier-plugin'
  | 'prettier-prose-wrap-option'
  | 'prettier-typescript-trailing-comma-option'
  | 'prettier-xml-quote-attributes-option'
  | 'prettier-xml-whitespace-sensitivity-option'
  | 'puppeteer-input-format'
  | 'puppeteer-life-cycle-event'
  | 'puppeteer-markdown-input-format'
  | 'puppeteer-output-format'
  | 'puppeteer-txt-input-format'
  | 'qr-code-error-correction-level'
  | 'qr-code-format'
  | 'rust-compiler-target'
  | 'rust-input-format'
  | 'rust-output-format'
  | 'shared-gematria-language'
  | 'swift-input-format'
  | 'symbol-set'
  | 'task'
  | 'time-zone'
  | 'time-zone-abbreviation'
  | 'time-zone-location'
  | 'unarchiver-format'
  | 'unit'
  | 'wast-input-format'
  | 'wast-output-format'
  | 'word-set'
  | 'image-magick-color-space-content'
  | 'image-magick-compression-content'
  | 'llvm-architecture-content'
  | 'symbol-set-content'

export type Config =
  | 'remote'
  | 'code'
  | 'environment'
  | 'puppeteer-args'
  | 'puppeteer-debugging-port'
  | 'debug-puppeteer'

export type TaskConfig = FormConfig | Config

const CONFIG: Record<string, any> = {
  remote: DEFAULT_REMOTE_TASK_PATH,
  code: undefined,
  environment: 'cli',
  'puppeteer-args': ['--no-sandbox', '--disable-setuid-sandbox'],
  'puppeteer-debugging-port': '9222',
  'debug-puppeteer': false,
}

export function configure(name: TaskConfig, value: any) {
  CONFIG[name] = value
  save(name, value)
}

export function getConfig(name: TaskConfig) {
  return CONFIG[name]
}
